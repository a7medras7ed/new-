<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>ุชุณุฌูู ุงูุฏุฎูู ุงููููู + ุงูููุงู ุงูุฑุณููุฉ</title>
<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700;900&amp;display=swap" rel="stylesheet"/>
<!-- Tailwind for the missions section -->
<script src="https://cdn.tailwindcss.com"></script>
<style>
/* ===== Mobile & Tablet Enhancements (<=768px) ===== */
@media (max-width: 768px){
  body{ padding:12px; }
  .wrap{ width:100%; border-radius:18px; }
  .head{ min-height:110px; padding:16px 14px 18px; }
  :root{ --mascotW:120px; --mascotTop:0px; }
  .title{ font-size:22px; padding:2px 12px; }

  .inner{ padding:12px; }
  .grid-panel{ padding:10px; border-radius:16px; }
  .grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); gap:10px; }
  .grid.row2{ grid-template-columns:repeat(3, minmax(0, 1fr)); }
  .card{ padding:8px; border-radius:14px; }
  .icon{ width:46px; height:46px; }
  .day{ font-size:13px; }
  .amount, .badge{ font-size:13px; }
  .actions{ margin-top:12px; }
  button.primary{ padding:12px 20px; font-size:15px; border-radius:999px; }

  .missions-wrap{ margin:12px; border-radius:18px; }
  .missions-bg{ padding:18px 12px !important; }
  .missions-bg h2{ font-size:24px !important; }
  .missions-bg p{ font-size:13px; }
  .scroll-container{ padding:2.5rem 0 1rem; gap:0.75rem; }
  .arrow-btn{ width:44px; height:44px; font-size:1.1rem; }
  .level-box{ min-width:110px; padding:.7rem .8rem; border-radius:9999px; }
  .tier-caption{ font-size:.8rem; }
  #goNowBtn{ padding:.7rem 1.2rem; font-size:.95rem; }

  .monthly-section{ padding:18px 12px; }
  .monthly-section h2{ font-size:24px; }
  .monthly-section p{ font-size:13px; }
  .monthly-section .bar-box{ width:100%; }
  .monthly-section .monthly-progress-wrap{ padding:2rem 0; }
  .monthly-section .level-box{ min-width:110px; padding:.7rem .8rem; }
  .monthly-section .reward-pill{ font-size:.75rem; top:-1.3rem; }
}

/* ===== Small Phones (<=420px) ===== */
@media (max-width: 420px){
  :root{ --mascotW:96px; }
  .title{ font-size:20px; }
  .grid{ grid-template-columns:repeat(2, minmax(0, 1fr)); gap:8px; }
  .grid.row2{ grid-template-columns:repeat(2, minmax(0, 1fr)); }
  .icon{ width:42px; height:42px; }
  .day{ font-size:12px; }
  .amount, .badge{ font-size:12px; }
  .arrow-btn{ width:42px; height:42px; }
  .level-box{ min-width:100px; }
  .missions-bg h2, .monthly-section h2{ font-size:20px !important; }
  .monthly-section .level-box{ min-width:100px; }
  .monthly-section .monthly-progress-wrap::before{ height:6px; }
  .monthly-section .monthly-progress-fill{ height:6px; }

  /* Prevent horizontal scrolling */
  html, body{ max-width:100%; overflow-x:hidden; }
}

/* ===== Ultra Small (<=360px) - tweaks to keep milestones in view ===== */
@media (max-width: 360px){
  .monthly-section .monthly-progress-wrap{ padding:1.5rem 0; }
  .monthly-section .milestone[style*="right: 50%"]{ right: 40% !important; }
}
</style>
</head>
<body>
<div class="wrap">
<header class="head">
<img alt="Mascot" src="mascot.png"/>
<h1 class="title">ุชุณุฌูู ุงูุฏุฎูู ุงููููู</h1>
</header>
<!-- Daily login -->
<div class="inner">
<div class="grid-panel">
<div class="grid" id="row1"></div>
<div class="grid row2" id="row2"></div>
</div>
<div class="actions"><button class="primary" id="claim">ุชุณุฌูู ุงูุฏุฎูู</button></div>
</div>
<!-- Missions section -->
<div class="missions-wrap">
<main class="missions-bg max-w-4xl mx-auto px-4 py-8">
<header class="text-center">
<h2 class="text-3xl md:text-4xl font-bold flex items-center justify-center gap-3">
<span>๐</span><span class="title-gold">ุงูููุงู ุงูุฑุณููุฉ</span>
</h2>
<p class="mt-2 text-red-200">
            ุฃูููู ุงูููุงู ุงูุฑุณููุฉ ููุฑุตุฉ ุงูููุฒ ุจููุงูุขุช ุชุตู ุฅูู
            <span class="font-semibold text-red-400">15000 ูุงุตูููุง</span>!
          </p>
</header>
<section class="mt-6 bg-black/40 rounded-3xl shadow-md border border-red-800 p-6 text-center">
<div>
<h3 class="text-xl font-bold text-red-400">๐ ููุงูุขุช ุฏุฎู ุงููุงุตูููุง ุงูููููุฉ</h3>
<p class="text-sm text-gray-300">( <span id="progressLabel">0 / 120,000</span> )</p>
</div>
<div class="relative mt-6 flex items-center justify-center gap-4">
<div class="arrow-btn" id="leftArrow">โฎ</div>
<div class="progress-wrap">
<div class="progress-fill-track" id="progressFillTrack" style="width: 0;"></div>
<div class="scroll-container" id="progressScroll"></div>
</div>
<div class="arrow-btn" id="rightArrow">โฏ</div>
</div>
<div class="mt-6 flex justify-center">
<button class="px-10 py-3 rounded-full text-base font-semibold bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-900/30 border border-red-700 transition" id="goNowBtn">
              ุงุฐูุจ ุงูุขู
            </button>
</div>
<p class="mt-4 text-sm text-red-200">
            ๐น ููุงุญุธุฉ: ูุชู ุงุญุชุณุงุจ ุงูููุงูุขุช ุจุดูู ููููุ ููู ูุณุชูู ููููู ุงูุญุตูู ุนููู ูุฑุฉ ูุงุญุฏุฉ ููุท ุฎูุงู ุงูููู.
          </p>
</section>
<section class="monthly-section max-w-4xl mx-auto px-4 py-8">
<header class="text-center">
<h2 class="text-3xl md:text-4xl font-bold flex items-center justify-center gap-3">
<span>๐</span><span class="title-gold">ููุงูุฆุฉ ุชุญุตูู ุงููุงุตูููุง ุงูุดูุฑูุฉ</span>
</h2>
<p class="mt-2 text-red-200">
    ุงุฌูุงูู ุชุณุฌูู ุงูุฏุฎูู ูู ุงูุดูุฑ:
    <span class="font-semibold text-red-400" id="monthDaysLabel">26/15</span>
<span class="text-sm text-red-300">( <span id="monthBeansLabel">26/0</span> )</span>
</p>
<p class="mt-1 text-sm text-red-200">
    ุงุฐุง ุฏุฎู ุงููุงุตูููุง ูุตู ุงูู <span class="font-semibold text-red-400">2000</span> ูู ููู ุฎูุงู ุงูู
    <span class="font-semibold text-red-400">26</span> ููู ููููู ุงูุญุตูู ุนูู
    <span class="font-semibold text-red-400">6000 ูุงุตูููุง</span>
</p>
<p class="mt-1 text-sm text-red-200">ุงูููู (2000/0)</p>
</header>

<section class="mt-6 bg-black/40 rounded-3xl shadow-md border border-red-800 p-6">
<div class="text-center">
<h3 class="text-xl font-bold text-red-400">๐ ููุงูุขุช ุงูุดูุฑ</h3>
</div>
<div class="relative mt-6 flex items-center justify-center">
<div class="bar-box w-full">
<div class="monthly-progress-wrap" id="monthlyProgressWrap">
<div class="monthly-progress-fill" id="monthlyProgressFill"></div>
<div class="milestone" style="right: 50%; transform: translate(50%, -50%);">
<div class="level-box" id="monthlyBox15">
<div class="reward-pill">3000</div>
<div class="target">15D</div>
</div>
</div>
<div class="milestone" style="left: 0;">
<div class="level-box" id="monthlyBox26">
<div class="reward-pill">6000</div>
<div class="target">26D</div>
</div>
</div>
</div>
</div>
</div>
<p class="mt-4 text-sm text-red-200 text-center">
    ๐น ููุงุญุธุฉ: ูุชู ุงุญุชุณุงุจ ุงูููุงูุขุช ุนูู ุฃุณุงุณ ุดูุฑูุ ููููู ุงูุญุตูู ุนูู ูู ูุณุชูู ูุฑุฉ ูุงุญุฏุฉ ุนูุฏ ุชุญูููู.
  </p>
</section>
</section><footer class="mt-10 text-center text-xs text-gray-400">ูุคุณุณุฉ ุฐูุจ ุงูุดุฑู ุงูุฃูุณุท</footer>
</main>
</div>
</div>
<div class="toast" id="toast"></div>
<script>
/* ===== Utilities ===== */
const get=(k,f=null)=>{try{const v=localStorage.getItem(k);return v?JSON.parse(v):f}catch{return f}};
const set=(k,v)=>localStorage.setItem(k,JSON.stringify(v));
const todayStr=()=>{const d=new Date();return d.toISOString().split("T")[0];};
const diffDays=(a,b)=>Math.round((new Date(b+"T00:00:00")-new Date(a+"T00:00:00"))/(1000*60*60*24));
function diamondSVG(size=54){return `<svg viewBox="0 0 100 100" width="${size}" height="${size}" aria-hidden="true"><polygon points="20,15 80,15 95,40 50,95 5,40" fill="#ffbaba" stroke="#ffcccc" stroke-width="2"/><polyline points="20,15 50,55 80,15" fill="none" stroke="#fff2f2" stroke-width="2"/><polyline points="5,40 50,40 95,40" fill="none" stroke="#fff2f2" stroke-width="2"/></svg>`;}
function chestSVG(size=54){return `<svg viewBox="0 0 120 100" width="${size}" height="${size}" aria-hidden="true"><rect x="10" y="40" width="100" height="45" rx="6" fill="#ffb84d" stroke="#b30000" stroke-width="3"/><rect x="10" y="30" width="100" height="20" rx="6" fill="#ff9933" stroke="#b30000" stroke-width="3"/><polygon points="60,18 70,30 50,30" fill="#ffe066"/></svg>`;}
function toast(msg){const t=document.getElementById("toast");t.textContent=msg;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),2000);}

/* ===== Daily Login logic ===== */
const REWARDS=[
 {g:15,desc:"ุจุฏุงูุฉ ุงูุชุฃูู!"},
 {g:40,desc:"ููุงูุฃุฉ ุงูููุฉ!"},
 {g:20,desc:"ุงุณุชูุฑุงุฑู ูููุน ุฃูุซุฑ."},
 {g:20,desc:"ุฏุนู ูููู ูู ูุฑูู ุฐูุจ!"},
 {g:30,desc:"ุงูุชุฑุจุช ูู ุงูููุงุฌุฃุฉ ุงููุจุฑู."},
 {g:35,desc:"ุฃูุช ุนูู ุงูุทุฑูู ุงูุตุญูุญ!"},
 {g:"random",min:30,max:1000,desc:"ุงูุฌุงุฆุฒุฉ ุงููุจุฑู ุงูุฃุณุจูุนูุฉ!"}
];
const K={last:"daily.lastLoginDate",streak:"daily.streakDays"};
const row1=document.getElementById("row1"), row2=document.getElementById("row2"); let cards=[];
function makeCard(i){const d=i+1, info=REWARDS[i], amt=info.g==="random"?"30~1000":info.g;
  const c=document.createElement("div"); c.className="card"; c.dataset.i=i;
  c.innerHTML=`<div class="day">ููู ${d}</div><div class="icon">${i===6?chestSVG():diamondSVG()}</div><div id="amt-${i}" class="amount">๐ ${amt} ${info.g==="random"?"":"ูุงุณุฉ"}</div>${i===6?'<div class="grand">ุงูุฌุงุฆุฒุฉ ุงููุจุฑู</div>':''}`;
  return c;
}
function buildLogin(){row1.innerHTML="";row2.innerHTML="";cards=[];for(let i=0;i<7;i++){const c=makeCard(i);(i<4?row1:row2).appendChild(c);cards.push(c);}} buildLogin();
const stateLogin=()=>{const last=get(K.last,null),st=Number(get(K.streak,0))||0,t=todayStr();if(!last)return{streak:st,can:true,glow:0,reset:false};const d=diffDays(last,t);if(d===0)return{streak:st,can:false,glow:Math.min(st,6),reset:false};if(d===1)return{streak:st,can:true,glow:Math.min(st,6),reset:false};if(d>1)return{streak:0,can:true,glow:0,reset:true};return{streak:st,can:false,glow:Math.min(st,6),reset:false};};
function updateLogin(){const s=stateLogin();cards.forEach(c=>{c.classList.remove("active");const ch=c.querySelector(".check");if(ch)ch.remove();});for(let i=0;i<s.streak&&i<7;i++){const m=document.createElement("div");m.className="check";cards[i].appendChild(m);}const idx=Math.min(s.glow,6);cards[idx].classList.add("active");const a=document.getElementById(`amt-${idx}`);if(a){a.classList.add("badge");a.classList.remove("amount");}for(let i=0;i<7;i++){if(i===idx)continue;const x=document.getElementById(`amt-${i}`);if(x){x.classList.add("amount");x.classList.remove("badge");}}document.getElementById("claim").disabled=!s.can;} updateLogin();
function reward(i){const r=REWARDS[i];if(r.g==="random"){const v=Math.floor(Math.random()*(r.max-r.min+1))+r.min;return{msg:`๐ ุญุตูุช ุนูู ${v} ูุงุณุฉ (ุงูุฌุงุฆุฒุฉ ุงููุจุฑู)!`};}return{msg:`ุชู ุงุณุชูุงู ${r.g} ูุงุณุฉ โ ${r.desc}`};}
document.getElementById("claim").addEventListener("click",()=>{const s=stateLogin();if(!s.can){toast("ุชู ุชุณุฌูู ุฏุฎูู ุงูููู ุจุงููุนู.");return;}let st=s.streak;if(s.reset)st=0;const idx=Math.min(st,6), r=reward(idx);set(K.last,todayStr());set(K.streak,idx===6?7:st+1);toast(`๐ ${r.msg}`);updateLogin();});

/* ===== Missions JS ===== */
const TIERS = [
  { target: 2000, reward: 200 },
  { target: 4500, reward: 450 },
  { target: 11000, reward: 1000 },
  { target: 25500, reward: 2000 },
  { target: 50000, reward: 4000 },
  { target: 80000, reward: 7500 },
  { target: 100000, reward: 10000 },
  { target: 120000, reward: 15000 },
];
const container = document.getElementById('progressScroll');
const progressLabel = document.getElementById('progressLabel');
const leftArrow = document.getElementById('leftArrow');
const rightArrow = document.getElementById('rightArrow');
const progressFillTrack = document.getElementById('progressFillTrack');
const MAX = 120000;
let currentBeans = 0;
function renderBoxes(current) {
  container.innerHTML = '';
  TIERS.forEach((t) => {
    const achieved = current >= t.target;
    const wrapper = document.createElement('div');
    wrapper.className = 'tier-item';
    const box = document.createElement('div');
    box.className = `level-box ${achieved ? 'achieved' : ''}`;
    box.innerHTML = `<div class='reward'>${t.reward}</div><div class='target'>${t.target}</div>`;
    const cap = document.createElement('div');
    if (achieved) { cap.className = 'tier-caption done'; cap.textContent = 'ููุชูู'; }
    else { cap.className = 'tier-caption'; cap.textContent = `(${t.target}/0)`; }
    wrapper.appendChild(box); wrapper.appendChild(cap); container.appendChild(wrapper);
  });
  progressLabel.textContent = `${current} / ${MAX.toLocaleString('en-US')}`;
  const wrapWidth = container.parentElement.clientWidth;
  const pct = Math.min(1, Math.max(0, current / MAX));
  progressFillTrack.style.width = (pct * wrapWidth) + 'px';
}
leftArrow && leftArrow.addEventListener('click', () => { container.scrollBy({ left: -240, behavior: 'smooth' }); });
rightArrow && rightArrow.addEventListener('click', () => { container.scrollBy({ left: 240, behavior: 'smooth' }); });
const goBtn = document.getElementById('goNowBtn');
goBtn && goBtn.addEventListener('click', () => { alert('ุชู ุงูุฐูุงุจ ุงูุขู โจ'); });
window.addEventListener('resize', () => renderBoxes(currentBeans));
renderBoxes(currentBeans);

/* ===== Monthly Beans Rewards Logic (scoped) ===== */
const MONTH_TOTAL_DAYS = 26;
let monthDays = 26;   // days achieved
let monthBeansToday = 0;

const monthlyFill = document.getElementById('monthlyProgressFill');
const monthlyWrap = document.getElementById('monthlyProgressWrap');
const monthlyBox15 = document.getElementById('monthlyBox15');
const monthlyBox26 = document.getElementById('monthlyBox26');
const monthDaysLabel = document.getElementById('monthDaysLabel');
const monthBeansLabel = document.getElementById('monthBeansLabel');

function renderMonthly() {
  if (!monthlyWrap) return;
  const pct = Math.min(1, Math.max(0, monthDays / MONTH_TOTAL_DAYS));
  const widthPx = monthlyWrap.clientWidth * pct;
  monthlyFill.style.width = widthPx + 'px';

  // labels already set to 26/15 and 26/0 by request
  if (monthDays >= 15) monthlyBox15.classList.add('achieved'); else monthlyBox15.classList.remove('achieved');
  if (monthDays >= 26) monthlyBox26.classList.add('achieved'); else monthlyBox26.classList.remove('achieved');
}

window.addEventListener('resize', renderMonthly);
renderMonthly();
</script>
</body>
</html>
